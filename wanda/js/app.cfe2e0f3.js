(function(t){function e(e){for(var s,r,c=e[0],o=e[1],l=e[2],m=0,d=[];m<c.length;m++)r=c[m],i[r]&&d.push(i[r][0]),i[r]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);u&&u(e);while(d.length)d.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,c=1;c<a.length;c++){var o=a[c];0!==i[o]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},i={app:0},n=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"203a":function(t,e,a){"use strict";var s=a("b09a"),i=a.n(s);i.a},"280e":function(t,e,a){},2968:function(t,e,a){},"339b":function(t,e,a){"use strict";var s=a("4ada"),i=a.n(s);i.a},3468:function(t,e,a){"use strict";var s=a("ea56"),i=a.n(s);i.a},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=n(t);return a(e)}function n(t){var e=s[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}i.keys=function(){return Object.keys(s)},i.resolve=n,t.exports=i,i.id="4678"},"4ada":function(t,e,a){},"50c5":function(t,e,a){"use strict";var s=a("5709"),i=a.n(s);i.a},"54e7":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("keep-alive",{attrs:{exclude:"cinema,home"}},[a("router-view",{staticClass:"container"})],1)],1)},n=[],r=(a("7c55"),a("2877")),c={},o=Object(r["a"])(c,i,n,!1,null,null,null),l=o.exports,u=a("8c4f"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("mt-header",{attrs:{title:"选择城市"}},[a("router-link",{attrs:{slot:"left",to:"/"},slot:"left"},[a("mt-button",{attrs:{icon:"back"}})],1)],1),a("div",{staticClass:"citys"},[a("div",{staticClass:"currentCity"},[a("p",[a("span",[t._v("当前城市")]),a("span",[t._v(t._s(t.currCity))])])]),a("div",{staticClass:"city_list"},[t._l(t.list,function(e,s){return[e.length>0?a("div",{key:s},[a("div",{staticClass:"city_pre"},[t._v(t._s(s))]),a("div",{staticClass:"city_names"},t._l(e,function(e){return a("div",{key:e.id,staticClass:"city_name"},[a("div",{on:{click:function(a){return t.gotoCinemas(e)}}},[t._v("\n                "+t._s(e.city_name)+"\n              ")])])}),0)]):t._e()]})],2)])],1)},d=[],f=(a("ac6a"),a("cebc")),v=(a("a481"),a("7f7f"),a("96cf"),a("3b8d")),p=a("d225"),h=a("b0b4"),_=a("bc3a"),b=a.n(_),g="http://www.bestqingshan.top/movie/",C=g+"citys.php",k=g+"cinemas.php",j=g+"getSwiper.php",y=g+"cinemasmovies.php",w=g+"product.php",q=g+"movieInfo.php",O=b.a.CancelToken,x=O.source(),S=function(){function t(){Object(p["a"])(this,t)}return Object(h["a"])(t,null,[{key:"common",value:function(t,e){var a={};for(var s in e)a[s]=e[s];var i={cancelToken:x.token};return this.req_interceptors(),this.res_interceptors(),b.a.get(t,i).catch(function(t){return b.a.isCancel(t)?{code:201,msg:t.message}:{code:202,msg:"未知异常"}})}},{key:"req_interceptors",value:function(){b.a.interceptors.request.use(function(t){var e=b.a.CancelToken,a=e.source();return t.cancelToken=a.token,t},function(t){return Promise.reject(t)})}},{key:"res_interceptors",value:function(){b.a.interceptors.response.use(function(t){return t},function(t){return Promise.reject(t)})}},{key:"citys",value:function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.common(C);case 2:a=t.sent,e(a);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"cinemas",value:function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.common(k);case 2:a=t.sent,e(a);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"swiper",value:function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.common(j);case 2:a=t.sent,e(a);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"cinemasmovie",value:function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.common(y);case 2:a=t.sent,e(a);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"product",value:function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.common(w);case 2:a=t.sent,e(a);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"movieDetail",value:function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.common(q);case 2:a=t.sent,e(a);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"all",value:function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:b.a.all([this.common(j),this.common(y)]).then(b.a.spread(function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];e(a)}));case 1:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}]),t}(),L=a("76a0"),T=a.n(L),I=a("2f62"),E=a("8ded"),D=a.n(E),P=window.qq,M={name:"city",data:function(){return{currCity:"",list:{}}},beforeRouteEnter:function(t,e,a){a(function(t){"cinemas"==e.name?a():D.a.get("wanda_cinema")?t.$router.replace({name:"movie"}):a()})},methods:Object(f["a"])({},Object(I["b"])("city",["actCity"]),{gotoCinemas:function(t){console.log(t),this.currCity=t.city_name,D.a.set("wanda_city",t),this.actCity(t),this.$router.push({name:"cinemas",params:{cityId:t.id}})},reversGeocoder:function(t,e){var a=this;this.axios.get("https://www.bestqingshan.top/demo/Juhe.php",{params:{url:"https://apis.map.qq.com/ws/geocoder/v1",param:{key:"HQLBZ-OCK3J-3GCFO-KUKAY-IKGJQ-S3BGN",location:"".concat(t,",").concat(e)}}}).then(function(t){var e=JSON.parse(t.data.data),s=e.result.address_component.city;a.currCity=s.substring(0,s.length-1)}).catch(function(t){console.error(t)})},getMyLocation:function(){var t=new P.maps.Geolocation("HQLBZ-OCK3J-3GCFO-KUKAY-IKGJQ-S3BGN","wd");t.getIpLocation(this.showPosition,this.showErr)},showPosition:function(t){console.log(t),D.a.set("wanda_position",t),""==this.currCity&&(this.currCity=t.city.substring(0,t.city.length-1))},showErr:function(){console.log("定位失败"),this.getMyLocation()}}),mounted:function(){var t=this;this.getMyLocation();for(var e={},a=0;a<26;a++){var s=String.fromCharCode(65+a);e[s]=[]}L["Indicator"].open("加载中..."),S.citys(function(a){L["Indicator"].close(),a.data.citys.forEach(function(t){var a=t.city_pre.toUpperCase();e[a].push(t)}),t.list=e})}},$=M,z=(a("e089"),Object(r["a"])($,m,d,!1,null,null,null)),A=z.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("mt-header",{attrs:{title:"选择影院"}},[a("router-link",{attrs:{slot:"left",to:"/"},slot:"left"},[a("mt-button",{attrs:{icon:"back"}})],1)],1),a("div",{staticClass:"cinemas"},[a("div",{staticClass:"currCity",on:{click:t.gotoCity}},[a("span",[t._v(t._s(t.currCity))]),a("span",{staticClass:"fa fa-angle-down"})]),t._l(t.cinemaList,function(e){return[a("mt-cell",{key:e.id,attrs:{title:e.cinemaName,label:e.address},nativeOn:{click:function(a){return t.gotoHome(e)}}})]})],2)],1)},R=[],B={name:"cinema",data:function(){return{currCity:"",cinemaList:[]}},computed:Object(f["a"])({},Object(I["c"])("city",["City"])),methods:Object(f["a"])({},Object(I["b"])("cinema",["actCinema"]),{gotoHome:function(t){D.a.set("wanda_cinema",t),this.actCinema(t),this.$router.push({name:"movie",params:{cinemaId:t.id}})},gotoCity:function(){this.$router.push({name:"city"})}}),mounted:function(){var t=this;this.currCity=D.a.get("wanda_city").city_name,L["Indicator"].open("加载中"),S.cinemas(function(e){L["Indicator"].close(),t.cinemaList=e.data.data})}},G=B,K=(a("50c5"),Object(r["a"])(G,N,R,!1,null,null,null)),U=K.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("keep-alive",{attrs:{exclude:"movie"}},[a("router-view")],1),a("mt-tabbar",{model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("mt-tab-item",{attrs:{id:"movie"}},[a("span",{staticClass:"fa fa-bank",attrs:{slot:"icon"},slot:"icon"}),t._v("\n      电影\n    ")]),a("mt-tab-item",{attrs:{id:"saler"}},[a("span",{staticClass:"fa fa-gift",attrs:{slot:"icon"},slot:"icon"}),t._v("\n      卖品\n    ")]),a("mt-tab-item",{attrs:{id:"person"}},[a("span",{staticClass:"fa fa-smile-o",attrs:{slot:"icon"},slot:"icon"}),t._v("\n      我的\n    ")])],1)],1)},W=[],F={name:"home",data:function(){return{selected:"movie"}},methods:{},watch:{selected:function(t){this.$router.replace({name:t})}}},H=F,Q=(a("de16"),Object(r["a"])(H,J,W,!1,null,null,null)),Y=Q.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"movie"},[a("header",[a("mt-header",{attrs:{title:"万达电影"}}),t.movieList.length>0?[a("mt-cell",{attrs:{title:t.cinemaName,"is-link":""},nativeOn:{click:function(e){return t.gotoCinemas(e)}}},[a("span",{staticClass:"fa fa-map-marker",attrs:{slot:"icon"},slot:"icon"})])]:t._e()],2),a("div",{staticClass:"movie_content"},[a("div",{staticClass:"banner"},[a("mt-swipe",{attrs:{auto:4e3,continuous:!0}},[t._l(t.swiperList,function(t,e){return[a("mt-swipe-item",{key:e},[a("img",{attrs:{src:t,alt:"",width:"100%",height:"100%"}})])]})],2)],1),a("div",{staticClass:"movie_list"},[t._l(t.movieList,function(e,s){return[a("movie-cell",{key:s,attrs:{movieinfo:e},on:{gotoMovieDetail:t.gotoMovieDetail}})]})],2)])])},V=[],X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"movieCell",on:{click:t.gotoMovieDetail}},[a("div",{staticClass:"movieCover"},[a("img",{attrs:{src:t.movieinfo.pic_url,alt:""}})]),a("div",{staticClass:"movieInfo"},[a("div",{staticClass:"movieTitle"},[t._v(t._s(t.movieinfo.movieName))]),a("div",{staticClass:"movieDes"},[t._v("不止比赛，更是意识形态的战争")]),a("div",{staticClass:"movieDes1"},[t._v("6月13日 后天上映")])]),t._m(0)])},tt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"movieComment"},[a("div",{staticClass:"movieStar"},[t._v("8.1分")]),a("div",{staticClass:"moveTick"},[t._v("购票")])])}],et={props:["movieinfo"],methods:{gotoMovieDetail:function(){this.$emit("gotoMovieDetail",this.movieinfo.movieId)}}},at=et,st=(a("3468"),Object(r["a"])(at,X,tt,!1,null,null,null)),it=st.exports,nt={name:"movie",data:function(){return{cinemaName:"",swiperList:[],movieList:[]}},computed:Object(f["a"])({},Object(I["c"])("cinema",["Cinema"])),beforeRouteEnter:function(t,e,a){a(function(t){D.a.get("wanda_cinema")?a():t.$router.replace({name:"city"})})},methods:{gotoMovieDetail:function(t){this.$router.push({name:"moviedetail",params:{movieId:t}})},gotoCinemas:function(){var t="123";this.$router.push({name:"cinemas",params:{cityId:t}})},swiper:function(){var t=this;S.swiper(function(e){t.swiperList=e.data.data})},cinemasmovie:function(){var t=this;S.cinemasmovie(function(e){t.movieList=e.data.result.lists})}},components:{MovieCell:it},mounted:function(){var t=this;this.cinemaName=D.a.get("wanda_cinema").cinemaName,L["Indicator"].open("加载中"),S.all(function(e){L["Indicator"].close(),t.swiperList=e[0].data.data,t.movieList=e[1].data.result.lists})}},rt=nt,ct=(a("7633"),Object(r["a"])(rt,Z,V,!1,null,null,null)),ot=ct.exports,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"saler"},[a("header",[a("mt-header",{attrs:{title:"万达电影"}}),a("mt-cell",{attrs:{title:t.cinemaName,"is-link":""},nativeOn:{click:function(e){return t.gotoCinemas(e)}}},[a("span",{staticClass:"fa fa-map-marker",attrs:{slot:"icon"},slot:"icon"})])],1),a("div",{staticClass:"saler_content"},[a("div",{staticClass:"saler_list"},[a("div",{staticClass:"curtains"}),a("div",{staticClass:"saler_item"},[a("div",{staticClass:"saler_item_left"},[a("ul",[t._l(t.titles,function(e,s){return[a("li",{key:e.id,staticClass:"saler_item_leftTitle",class:{active:s==t.currentIndex},on:{click:function(a){return t.changeItem(e.id)}}},[t._v("\n                "+t._s(e.title)+"\n              ")])]})],2)]),a("div",{staticClass:"saler_item_right"},[a("div",{staticClass:"saler_item_title"},[t._v("\n            "+t._s(t.currentTitle)+"\n          ")]),a("div",{staticClass:"saler_item_contentlist"},[t._l(t.data,function(e){return[a("saler-cell",{key:e.id,attrs:{salerinfo:e},on:{minus:function(a){return t.minus(e.id)},add:function(a){return t.add(e.id)}}})]})],2)])]),t.isShowCart?[a("div",{staticClass:"shopping-cart"},[a("div",{staticClass:"shopping-cart-mask"}),a("div",{staticClass:"shopping-cart-list"},[a("div",{staticClass:"shopping-cart-title"},[a("span",{staticStyle:{float:"left",color:"grey"}},[t._v("已选卖品")]),a("span",{staticStyle:{float:"right",color:"grey","font-size":"0.8rem"},on:{click:t.clearCart}},[t._v("清空购物车")])]),a("div",{staticClass:"shopping-cart-content"},[t._l(t.filterCart(t.salerList),function(e){return[a("cart-cell",{key:e.id,attrs:{cartinfo:e},on:{minus:function(a){return t.minus(e.id)},add:function(a){return t.add(e.id)}}})]})],2)])])]:t._e()],2),a("div",{staticClass:"saler_checkout"},[a("div",{staticClass:"saler_checkout_info"},[a("span",{staticClass:"saler_checkout_cart fa fa-shopping-cart",on:{click:t.toggleCartlist}}),t.totalCount>0?[a("mt-badge",{staticClass:"badge",attrs:{size:"small"}},[t._v(t._s(t.totalCount))])]:t._e(),a("span",{staticClass:"saler_checkout_totalprice"},[t._v("￥"+t._s(t.totalprice))])],2),a("div",{staticClass:"saler_checkout_btn"},[t._v("\n        结算\n      ")])])])])},ut=[],mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"SalerCell"},[a("div",{staticClass:"SalerCover"},[a("img",{attrs:{src:t.salerinfo.img,alt:""}})]),a("div",{staticClass:"SalerInfo"},[a("div",{staticClass:"SalerTitle"},[t._v(t._s(t.salerinfo.title))]),a("div",{staticClass:"SalerDes"},[t._v(t._s(t.salerinfo.des))]),a("div",{staticClass:"SalerPrice"},[t._v("￥"+t._s(t.salerinfo.price))])]),a("div",{staticClass:"SalerComment"},[t.salerinfo.count>0?[a("div",{staticClass:"salerSub fa fa-minus-circle",on:{click:t.minus}}),a("div",{staticClass:"salerCount"},[t._v(t._s(t.salerinfo.count))])]:t._e(),a("div",{staticClass:"salerAdd fa fa-plus-circle",on:{click:t.add}})],2)])},dt=[],ft={props:["salerinfo"],methods:{minus:function(){this.$emit("minus")},add:function(){this.$emit("add")}}},vt=ft,pt=(a("c5f3"),Object(r["a"])(vt,mt,dt,!1,null,null,null)),ht=pt.exports,_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cartcell"},[a("div",{staticClass:"cartcell-title"},[t._v(t._s(t.cartinfo.title))]),a("div",{staticClass:"cartcell-price"},[t._v("￥"+t._s(t.cartinfo.price))]),a("div",{staticClass:"cartcell-calc"},[a("div",{staticClass:"cartcell-minus fa fa-minus-circle",on:{click:t.minus}}),a("div",{staticClass:"cartcell-count"},[t._v(t._s(t.cartinfo.count))]),a("div",{staticClass:"cartcell-add fa fa-plus-circle",on:{click:t.add}})])])},bt=[],gt={props:["cartinfo"],methods:{minus:function(){this.$emit("minus")},add:function(){this.$emit("add")}}},Ct=gt,kt=(a("c004"),Object(r["a"])(Ct,_t,bt,!1,null,null,null)),jt=kt.exports,yt={data:function(){return{cinemaName:"",salerList:[],titles:[],data:[],currentTitle:"",currentIndex:0,totalprice:0,totalCount:0,isShowCart:!1}},components:{SalerCell:ht,CartCell:jt},computed:Object(f["a"])({},Object(I["c"])("cinema",["Cinema"])),methods:{clearCart:function(){this.salerList.forEach(function(t){t.data.forEach(function(t){t.count=0})}),this.salerCalcPrice()},filterCart:function(t){var e=[];return t.forEach(function(t){t.data.forEach(function(t){t.count>0&&e.push(t)})}),e},toggleCartlist:function(){0!=this.totalprice&&(this.isShowCart=!this.isShowCart)},minus:function(t){this.salerOperate(t,-1),this.salerCalcPrice()},add:function(t){this.salerOperate(t,1),this.salerCalcPrice()},salerOperate:function(t,e){this.salerList.forEach(function(a){a.data.forEach(function(a){a.id==t&&(a.count+=e)})})},salerCalcPrice:function(){var t=0,e=0;this.salerList.forEach(function(a){a.data.forEach(function(a){e+=a.count,t+=a.count*a.price})}),this.totalprice=t,this.totalCount=e,0==this.totalprice&&(this.isShowCart=!1)},changeItem:function(t){var e=this;this.salerList.forEach(function(a,s){a.id==t&&(e.currentIndex=s,e.currentTitle=a.title,e.data=a.data)})},gotoCinemas:function(){var t="123";this.$router.push({name:"cinemas",params:{cityId:t}})},salerProduct:function(){var t=this;L["Indicator"].open("加载中"),S.product(function(e){L["Indicator"].close(),t.salerList=e.data.result,t.salerList.forEach(function(e,a){var s=e.id,i=e.title;t.titles.push({id:s,title:i}),0==a&&(t.currentTitle=e.title,t.data=e.data)})})}},mounted:function(){this.cinemaName=D.a.get("wanda_cinema").cinemaName,this.salerProduct()}},wt=yt,qt=(a("d4e5"),Object(r["a"])(wt,lt,ut,!1,null,null,null)),Ot=qt.exports,xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v("\n  我的\n")])},St=[],Lt={},Tt=Lt,It=Object(r["a"])(Tt,xt,St,!1,null,null,null),Et=It.exports,Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"moviedetail"},[a("mt-header",{attrs:{title:t.detailData.title}},[a("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:t.goback},slot:"left"})],1),a("div",{staticClass:"moviedetail_content"},[a("div",{staticClass:"moviedetail_header"},[a("div",{staticClass:"moviedetail_header_bg"},[a("img",{attrs:{src:t.detailData.poster,alt:""}}),a("div",{staticClass:"moviedetail_header_title"},[t._v(t._s(t.detailData.title))]),a("div",{staticClass:"moviedetail_header_titleAlias"},[t._v("\n          "+t._s(t.detailData.also_known_as)+"\n        ")])]),a("div",{staticClass:"moviedetail_header_intro"},[a("div",{staticClass:"runtime"},[t._v(t._s(t.detailData.runtime))]),a("div",{staticClass:"genres"},[t._v(t._s(t.detailData.genres))]),a("div",{staticClass:"year"},[t._v(t._s(t.detailData.year))]),a("div",{staticClass:"locations"},[a("span",{staticClass:"film_locations"},[t._v(t._s(t.detailData.film_locations))]),a("span",[t._v(":")]),a("span",{staticClass:"writers"},[t._v(t._s(t.detailData.writers))])])]),a("div",{staticClass:"moviedetail_header_cover"},[a("img",{attrs:{src:t.detailData.poster,alt:""}})])]),a("div",{staticClass:"moviedetail_des",on:{click:t.toggleUpDown}},[a("div",{staticClass:"moviedetail_des_content"},[t._v("\n        "+t._s(t.detailData.plot_simple)+"\n      ")]),a("div",{staticClass:"moviedetail_des_arrow "},[a("span",{staticClass:"fa",class:{"fa-angle-up":t.isDown,"fa-angle-down":!t.isDown}})])]),a("div",{staticClass:"moviedetail_list"},[a("div",{staticClass:"moviedetail_list_actors"},[t._m(0),a("div",{staticClass:"moviedetail_list_actorsScroll"},[t._l(this.actors,function(e,s){return[a("div",{key:s,staticClass:"actor"},[a("div",{staticClass:"avatar"},[a("img",{attrs:{src:e.avatar,alt:""}})]),a("div",{staticClass:"nameByZH"},[t._v(t._s(e.name_zh))]),a("div",{staticClass:"nameByEN"},[t._v(t._s(e.name_en))])])]})],2)])])]),a("div",{staticClass:"takeTick",on:{click:t.takeTick}},[t._v("购票")])],1)},Pt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"moviedetail_list_title"},[a("span",{staticClass:"directors"},[t._v("导演")]),a("span",{staticClass:"actors"},[t._v("演员")])])}],Mt=(a("28a5"),{data:function(){return{detailData:{},isDown:!1,actors:[]}},methods:{takeTick:function(){this.$router.push({name:"taketick"})},toggleUpDown:function(){var t=document.getElementsByClassName("moviedetail_des_content")[0];this.isDown?t.style.height="42px":t.style.height="auto",this.isDown=!this.isDown},dealActor:function(){var t=this;this.actors.push({name_zh:this.detailData.directors,name_en:"GQJ",avatar:this.detailData.poster});var e=this.detailData.actors.split(",");e.forEach(function(e){for(var a=e.split(" "),s={name_zh:"",name_en:"",avatar:t.detailData.poster},i=0;i<a.length;i++)0==i?s.name_zh=a[0]:s.name_en+=a[i]+" ";t.actors.push(s)});var a=document.getElementsByClassName("moviedetail_list_actorsScroll")[0];a.style.width=110*this.actors.length+"px"},goback:function(){this.$router.go(-1)}},mounted:function(){var t=this;L["Indicator"].open("加载中"),S.movieDetail(function(e){L["Indicator"].close(),e.code&&202==e.code?Object(L["Toast"])("网络异常，稍后重试"):(t.detailData=e.data.result,t.dealActor())})}}),$t=Mt,zt=(a("339b"),Object(r["a"])($t,Dt,Pt,!1,null,null,null)),At=zt.exports,Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tick"},[a("mt-header",{attrs:{title:"影院"}},[a("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:t.goback},slot:"left"})],1),a("div",{staticClass:"tick_content"},[a("div",{staticClass:"tick_cinema_info"},[a("div",{staticClass:"tick_cinema_infocontent"},[a("div",{staticClass:"tick_cinema_infoname"},[t._v("\n          "+t._s(this.tmp_cinema.cinemaName)+"\n        ")]),a("div",{staticClass:"tick_cinema_infoaddress"},[t._v("\n          "+t._s(this.tmp_cinema.address)+"\n        ")])]),a("div",{staticClass:"tick_cinema_infomap",on:{click:t.gotoMap}},[a("div",{staticClass:"mapicon fa fa-map-marker"}),a("div",{staticClass:"maptip"},[t._v("地图")])])]),a("div",{staticClass:"tip"},[t._v("\n      一名成人限带一名1.3米以下的儿童免费观影，儿童不提供座位；3D影片免费提供眼镜\n    ")]),a("div",{staticClass:"tick_swiper"},[t.movieList.length>0?a("div",{staticClass:"swiper_bg"},[a("img",{attrs:{src:t.movieList[t.currentIndex].pic_url,alt:"",width:"100%",height:"100%"}})]):t._e(),a("div",{staticClass:"swiper-container"},[a("div",{staticClass:"swiper-wrapper"},t._l(t.movieList,function(t,e){return a("div",{key:e,staticClass:"swiper-slide"},[a("img",{attrs:{src:t.pic_url,alt:"",width:"100%",height:"100%"}})])}),0)]),a("div",{staticClass:"currentMovieTitle"},[t._v(t._s(t.currentMovieTitle))])]),a("div",{staticClass:"hall"},[a("div",{staticClass:"hall-title"},[t._v(t._s(t.currentTime))]),t.movieList.length>0?a("div",{staticClass:"hall-list"},[t._l(t.movieList[t.currentIndex].broadcast,function(e,s){return[a("div",{key:s,staticClass:"hall-item"},[a("div",{staticClass:"hall-time"},[t._v(t._s(e.time))]),a("div",{staticClass:"hall-num"},[t._v(t._s(e.hall))]),a("div",{staticClass:"hall-price"},[t._v("￥"+t._s(e.price))])])]})],2):t._e()])])],1)},Rt=[],Bt=a("41d6"),Gt=(a("dfa4"),a("c1df")),Kt=a.n(Gt),Ut={data:function(){return{imglist:[],movieList:[],currentIndex:0,currentMovieTitle:"",currentTime:"",tmp_cinema:{}}},computed:Object(f["a"])({},Object(I["c"])("cinema",["Cinema"])),methods:{gotoMap:function(){console.log(this.Cinema),this.$router.push({name:"map"})},goback:function(){this.$router.go(-1)},cinemasmovie:function(){var t=this;S.cinemasmovie(function(e){t.movieList=e.data.result.lists,t.currentMovieTitle=t.movieList[t.currentIndex].movieName})},calcDate:function(){var t=Kt()().format("e"),e="";switch(t){case"0":e="周日";break;case"1":e="周一";break;case"2":e="周二";break;case"3":e="周三";break;case"4":e="周四";break;case"5":e="周五";break;case"6":e="周六";break;default:break}this.currentTime=e+" "+Kt()().format("MM-DD")},swiper:function(){var t=this;new Bt["a"](".swiper-container",{observer:!0,observeParents:!0,effect:"coverflow",centeredSlides:!0,slidesPerView:4,initialSlide:0,coverflowEffect:{rotate:0,stretch:-20,depth:120,slideShadows:!0},on:{slideChange:function(){t.currentIndex=this.activeIndex,t.currentMovieTitle=t.movieList[this.activeIndex].movieName}}})}},mounted:function(){this.tmp_cinema=D.a.get("wanda_cinema"),this.calcDate(),this.cinemasmovie(),this.swiper()}},Jt=Ut,Wt=(a("e99f"),Object(r["a"])(Jt,Nt,Rt,!1,null,null,null)),Ft=Wt.exports,Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("mt-header",{attrs:{title:"地图"}},[a("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:t.goback},slot:"left"})],1),a("div",{staticClass:"map_content"},[a("div",{staticStyle:{margin:"5px 0px"}},[a("b",[t._v("\n        换乘策略：\n      ")]),a("select",{attrs:{id:"policy"},on:{change:t.calcPlan}},[a("option",{attrs:{value:"LEAST_TIME"}},[t._v("\n          较快捷\n        ")]),a("option",{attrs:{value:"LEAST_TRANSFER"}},[t._v("\n          少换乘\n        ")]),a("option",{attrs:{value:"LEAST_WALKING"}},[t._v("\n          少步行\n        ")]),a("option",{attrs:{value:"NO_SUBWAY"}},[t._v("\n          不坐地铁\n        ")])])]),a("div",{staticStyle:{width:"100%",height:"80%"},attrs:{id:"container"}}),a("div",{staticStyle:{width:"100%","padding-top":"10px"},attrs:{id:"plans"}})])],1)},Qt=[],Yt=(a("386d"),{data:function(){return{map:null,transfer_plans:null,start_marker:null,end_marker:null,transferService:null,station_markers:[],transfer_lines:[],walk_lines:[],start_name:[],end_name:[]}},mounted:function(){L["Indicator"].open("加载中"),this.getCurrentLocation();var t=D.a.get("wanda_cinema");this.end_name.push(t.longitude),this.end_name.push(t.latitude),this.t_init(),this.init()},methods:{getCurrentLocation:function(){var t=new qq.maps.Geolocation("HQLBZ-OCK3J-3GCFO-KUKAY-IKGJQ-S3BGN","wd");t.getIpLocation(this.showPosition,this.showErr)},showPosition:function(t){this.start_name.push(t.lng),this.start_name.push(t.lat),this.calcPlan()},showErr:function(){this.getCurrentLocation()},goback:function(){this.$router.go(-1)},t_init:function(){var t=this;this.transferService=new qq.maps.TransferService({location:"北京",complete:function(e){e=e.detail;var a=e.start,s=e.end,i=new qq.maps.Point(6,6),n=new qq.maps.Size(24,36),r=new qq.maps.MarkerImage("img/busmarker.png",n),c=new qq.maps.MarkerImage("img/busmarker.png",n,new qq.maps.Point(24,0),i);t.start_marker&&t.start_marker.setMap(null),t.end_marker&&t.end_marker.setMap(null),t.start_marker=new qq.maps.Marker({icon:r,position:a.latLng,map:t.map,zIndex:1}),t.end_marker=new qq.maps.Marker({icon:c,position:s.latLng,map:t.map,zIndex:1}),t.transfer_plans=e.plans;for(var o=[],l=0;l<t.transfer_plans.length;l++){var u=['@click="renderPlan('+l+')"','onmouseover=this.style.background="#eee"','onmouseout=this.style.background="#fff"','style="margin-top:-4px;cursor:pointer"'].join(" ");o.push("<p "+u+"><b>方案"+(l+1)+".</b>");for(var m=t.transfer_plans[l].actions,d=0;d<m.length;d++){var f,v=m[d];v.type==qq.maps.TransferActionType.BUS&&(f="-38px 0px"),v.type==qq.maps.TransferActionType.SUBWAY&&(f="-57px 0px"),v.type==qq.maps.TransferActionType.WALK&&(f="-76px 0px");var p='<span style="margin-bottom: -4px;display:inline-block;background:url(img/busicon.png) no-repeat '+f+';width:19px;height:19px"></span>&nbsp;&nbsp;';o.push(p+v.instructions)}}document.getElementById("plans").innerHTML=o.join("<br><br>"),t.renderPlan(0)}})},init:function(){this.map=new qq.maps.Map(document.getElementById("container"),{center:new qq.maps.LatLng(this.end_name[1],this.end_name[0])})},calcPlan:function(){var t=document.getElementById("policy").value;switch(this.transferService.search(new qq.maps.LatLng(this.start_name[1],this.start_name[0]),new qq.maps.LatLng(this.end_name[1],this.end_name[0])),t){case"较快捷":this.transferService.setPolicy(qq.maps.TransferActionType.LEAST_TIME);break;case"少换乘":this.transferService.setPolicy(qq.maps.TransferActionType.LEAST_TRANSFER);break;case"少步行":this.transferService.setPolicy(qq.maps.TransferActionType.LEAST_WALKING);break;case"不坐地铁":this.transferService.setPolicy(qq.maps.TransferActionType.NO_SUBWAY);break}},clearOverlay:function(t){var e;while(e=t.pop())e.setMap(null)},renderPlan:function(t){var e=this.transfer_plans[t],a=e.lines,s=e.walks,i=e.stations;this.map.fitBounds(e.bounds),this.clearOverlay(this.station_markers),this.clearOverlay(this.transfer_lines),this.clearOverlay(this.walk_lines);for(var n=new qq.maps.Point(6,6),r=new qq.maps.Size(24,36),c=new qq.maps.MarkerImage("img/busmarker.png",r,new qq.maps.Point(48,0),n),o=new qq.maps.MarkerImage("img/busmarker.png",r,new qq.maps.Point(72,0),n),l=0;l<i.length;l++){var u=i[l];if(u.type==qq.maps.PoiType.SUBWAY_STATION)var m=o;else m=c;var d=new qq.maps.Marker({icon:m,position:u.latLng,map:this.map,zIndex:0});this.station_markers.push(d)}for(l=0;l<a.length;l++){var f=a[l],v=new qq.maps.Polyline({path:f.path,strokeColor:"#3893F9",strokeWeight:6,map:this.map});this.transfer_lines.push(v)}for(l=0;l<s.length;l++){var p=s[l];v=new qq.maps.Polyline({path:p.path,strokeColor:"#3FD2A3",strokeWeight:6,map:this.map});this.walk_lines.push(v)}L["Indicator"].close()}}}),Zt=Yt,Vt=(a("203a"),Object(r["a"])(Zt,Ht,Qt,!1,null,null,null)),Xt=Vt.exports;s["default"].use(u["a"]);var te=new u["a"]({routes:[{path:"/",name:"city",component:A},{path:"/cinemas",name:"cinemas",component:U},{path:"/home",component:Y,children:[{path:"/",redirect:"movie",name:"home"},{path:"/movie",name:"movie",component:ot},{path:"/saler",name:"saler",component:Ot},{path:"/person",name:"person",component:Et}]},{path:"/moviedetail",name:"moviedetail",component:At},{path:"/taketick",name:"taketick",component:Ft},{path:"/map",name:"map",component:Xt}]}),ee=te,ae=a("bd86"),se="setCity",ie="setCinema",ne={city:{}},re={City:function(t){return t.city}},ce=Object(ae["a"])({},se,function(t,e){t.city=e}),oe={actCity:function(t,e){var a=t.commit;a(se,e)}},le={namespaced:!0,state:ne,getters:re,mutations:ce,actions:oe},ue={cinema:{}},me={Cinema:function(t){return t.cinema}},de=Object(ae["a"])({},ie,function(t,e){t.cinema=e}),fe={actCinema:function(t,e){var a=t.commit;a(ie,e)}},ve={namespaced:!0,state:ue,getters:me,mutations:de,actions:fe};s["default"].use(I["a"]);var pe=new I["a"].Store({state:{},getters:{},mutations:{},actions:{},modules:{city:le,cinema:ve}}),he=(a("aa35"),a("54e7"),a("a7fe")),_e=a.n(he);a("b478");s["default"].use(_e.a,b.a),s["default"].use(T.a),s["default"].config.productionTip=!1,new s["default"]({router:ee,store:pe,render:function(t){return t(l)}}).$mount("#app")},5709:function(t,e,a){},"5c48":function(t,e,a){},"6c47":function(t,e,a){},7633:function(t,e,a){"use strict";var s=a("280e"),i=a.n(s);i.a},"7bea":function(t,e,a){},"7c55":function(t,e,a){"use strict";var s=a("5c48"),i=a.n(s);i.a},b09a:function(t,e,a){},b478:function(t,e,a){},c004:function(t,e,a){"use strict";var s=a("f534"),i=a.n(s);i.a},c5f3:function(t,e,a){"use strict";var s=a("2968"),i=a.n(s);i.a},d4e5:function(t,e,a){"use strict";var s=a("f376"),i=a.n(s);i.a},de16:function(t,e,a){"use strict";var s=a("f3e7"),i=a.n(s);i.a},e089:function(t,e,a){"use strict";var s=a("7bea"),i=a.n(s);i.a},e99f:function(t,e,a){"use strict";var s=a("6c47"),i=a.n(s);i.a},ea56:function(t,e,a){},f376:function(t,e,a){},f3e7:function(t,e,a){},f534:function(t,e,a){}});
//# sourceMappingURL=app.cfe2e0f3.js.map